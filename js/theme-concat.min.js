/*
* JAVASCRIPT HELPERS
*/
// проставляем title у ссылок изображений
// инициализируем (подключаем) либу фотогалереи
(function($){
    window.lightGallery = function(block, a) {
        $(block).find(a).each(function() {
            $(this).attr('data-sub-html', $(this).find('img').attr('title'));
        });
        $(block).lightGallery({
            selector: a,
            download: false,
            fullScreen: false,
            zoom: false,
            share: false,
            thumbnail: true
        });
    }
})(jQuery);

// const btns = document.querySelectorAll('.btn');
// const overlay = document.querySelector('.overlay');
// const modal = document.querySelectorAll('.modal');


// btns.forEach((el) => {
//     el.addEventListener('click', (e) => {
//         let path = e.currentTarget.getAttribute('data-path');
//         console.log(path);

//         modal.forEarch((el)=> {
//             el.classList.remove('modal-opened')
//         })

//         document.querySelector(`[data-target="${path}"]`).classList.add('modal-opened');
//         overlay.classList.add('overlay-visible');
//     });
// });

// overlay.addEventListener('click', (e) => {

//     if (e.target == this) {
//         modal.forEarch((el) => {
//             el.classList.remove('modal-opened')
//         })

//         overlay.classList.remove('overlay-visible');
//     }
// });

// (function($) {
//     if (typeof Drupal !== 'undefined') {
//         Drupal.behaviors.customThemeFile = {
//             attach: function(context, settings) {
//                 init();
//             }
//         };
//     } else {
//         init();
//     }

//     function init() {
//     }

//     $(document).ready(function(){
//         $('table').wrap('<div class="table-wrapper"></div>');
//     });

// })(jQuery);

const btns = document.querySelectorAll('.btn');
const overlay = document.querySelector('.overlay');
const modal = document.querySelector('.modal');


btns.forEach((el) => {
    el.addEventListener('click', (e) => {
        let path = e.currentTarget.getAttribute('data-path');
        console.log(path);

        modal.forEach((el) => {
            el.classList.remove('modal-opened');
        });

        document.querySelector(`[data-target="${path}"]`).classList.add('modal-opened');
        overlay.classList.add('overlay-visible');
    });
});

overlay.addEventListener('click', (e) => {

    if (e.target == this) {
        modal.forEach((el) => {
            el.classList.remove('modal-opened');
        });

        overlay.classList.remove('overlay-visible');
    }
});
